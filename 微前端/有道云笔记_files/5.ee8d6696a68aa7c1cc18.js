(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1059:function(t,n,e){"use strict";e.r(n),e.d(n,"focusLastBlank",(function(){return l}));var o=e(1),i=e(2),c=e(3);const s=[o.m.MouseDown,o.m.Click],u=[i.a.HR,i.a.Code,i.a.Image,i.a.Handwriting,i.a.Attachment,i.a.Layout];class a extends o.y{constructor(){var t;super(...arguments),t=this,this.name="focus-last-blank-plugin",this.priority=o.s,this.onEvent=function(n,e){var i;if(!t.checkValid(e))return;const c=!r(e.target),s=null===(i=o.Q.getDocument())||void 0===i?void 0:i.nodes;if(c&&s){const t=s[s.length-1];if((null==t?void 0:t.name)&&u.includes(t.name)){var a,l;o.Q.insertNode(Object(o.K)(),null===(a=o.Q.getDocument())||void 0===a?void 0:a.id,s.length);const t=null===(l=o.Q.getDocument())||void 0===l?void 0:l.getLastText();if(t){const n=o.z.fromJSON({nodeId:t.id,offset:0}),e=o.c.fromJSON({anchor:n,focus:n});o.Q.setBulbSelectionFromRange(e)}e.preventDefault()}}return n}}checkValid(t){var n,e;return!!s.includes(t.type)&&((null===(n=document.querySelector("."+i.r))||void 0===n?void 0:n.contains(t.target))&&!(null===(e=document.querySelector(".title-widget"))||void 0===e?void 0:e.contains(t.target)))}}const r=function(t){if(!t)return null;t.nodeType===Node.TEXT_NODE&&(t=t.parentElement);const n=t.closest("*["+o.g+"]");return null==n?void 0:n.getAttribute(o.g)},l={name:c.h.FocusLastBlank,lazy:!0,plugins:[a]}}}]);
//# sourceMappingURL=5.ee8d6696a68aa7c1cc18.js.map